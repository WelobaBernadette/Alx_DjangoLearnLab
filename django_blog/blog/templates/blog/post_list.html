{% for post in posts %}
  <h2>{{ post.title }}</h2>
  <p>{{ post.content|truncatewords:20 }}</p>
  <p>Tags: 
    {% for tag in post.tags.all %}
      <a href="{% url 'posts_by_tag' tag.name %}">{{ tag.name }}</a>{% if not forloop.last %}, {% endif %}
    {% empty %} No tags
    {% endfor %}
  </p>
{% empty %}
  <p>No posts available.</p>
{% endfor %}
<form method="get" action="{% url 'search_posts' %}">
  <input type="text" name="q" placeholder="Search...">
  {% csrf_token %}
  <button type="submit">Search</button>
</form>
